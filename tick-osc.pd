#N canvas 524 128 879 723 12;
#X obj 19 33 inlet;
#X text 60 36 ticks;
#X text 342 30 ticks;
#X obj 41 194 s \$0-start/stop;
#X obj 23 114 i 1;
#X obj 76 113 i 2;
#X obj 113 141 i 0;
#X obj 411 33 r \$0-start/stop;
#X obj 321 277 t b;
#N canvas 599 273 552 548 tick-counter 0;
#X obj 225 87 f \$1;
#X obj 225 116 * 360;
#X obj 32 22 inlet;
#X obj 39 305 outlet;
#X obj 83 23 inlet;
#X obj 39 117 i;
#X obj 117 112 + 1;
#X obj 39 206 expr if($f1 >= $f2 \, 0 \, $f1);
#X obj 39 230 t a a;
#X obj 149 19 r \$0-beat;
#X obj 225 18 r \$0-start/stop;
#X obj 225 42 t b;
#X obj 225 154 max 1;
#X obj 281 222 outlet;
#X obj 225 178 t a a;
#X floatatom 58 144 5 0 0 0 - - - 0;
#X connect 0 0 1 0;
#X connect 1 0 12 0;
#X connect 2 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 7 0;
#X connect 5 0 15 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 8 1 6 0;
#X connect 9 0 0 0;
#X connect 10 0 11 0;
#X connect 11 0 0 0;
#X connect 12 0 14 0;
#X connect 14 0 7 1;
#X connect 14 1 13 0;
#X restore 321 328 pd tick-counter;
#X text 95 0 Arg1: base beat in beats;
#X obj 443 84 s \$0-reset-ticks;
#X obj 437 255 r \$0-reset-ticks;
#X obj 423 300 i 0;
#X obj 487 109 s \$0-reset-loop;
#N canvas 577 264 450 471 start/stop 1;
#X obj 32 10 inlet;
#X obj 163 14 inlet;
#X obj 163 88 sel 0 1 2, f 30;
#X obj 32 277 spigot;
#X obj 163 112 i 0;
#X obj 188 199 s \$0-valve;
#X obj 106 236 r \$0-valve;
#X obj 231 113 i 1;
#X obj 32 102 t a a;
#X obj 64 137 spigot;
#X obj 64 161 sel 359;
#X obj 64 212 i 1;
#X obj 64 185 t b b;
#X obj 135 154 i 0;
#X obj 187 168 t a b;
#X obj 300 201 s \$0-sync;
#X obj 81 71 r \$0-sync;
#X obj 300 122 t b b;
#X obj 300 146 i 1;
#X obj 340 180 s \$0-valve;
#X obj 335 150 i 0;
#X obj 32 301 outlet;
#X obj 169 288 outlet;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 7 0;
#X connect 2 2 17 0;
#X connect 3 0 21 0;
#X connect 4 0 14 0;
#X connect 6 0 3 1;
#X connect 7 0 14 0;
#X connect 8 0 3 0;
#X connect 8 1 9 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 3 1;
#X connect 12 0 11 0;
#X connect 12 1 13 0;
#X connect 12 1 22 0;
#X connect 13 0 9 1;
#X connect 14 0 5 0;
#X connect 14 1 13 0;
#X connect 16 0 9 1;
#X connect 17 0 18 0;
#X connect 17 1 20 0;
#X connect 18 0 15 0;
#X connect 20 0 19 0;
#X restore 323 142 pd start/stop;
#X obj 411 57 t a b b, f 11;
#X obj 184 111 s \$0-beat;
#X obj 321 385 /;
#X text 354 383 normalize to drive osc;
#X obj 322 607 sin;
#X obj 322 579 * 6.28319;
#X obj 322 631 / 2;
#X obj 322 660 + 0.5;
#X obj 322 684 outlet;
#X obj 227 169 s \$0-phase;
#X obj 340 439 r \$0-phase;
#X obj 322 496 wrap;
#X obj 322 472 + \$2;
#X text 99 17 comment;
#X obj 20 56 route free-start sync-start stop beat phase pause;
#X obj 304 103 s \$0-pause;
#X connect 0 0 30 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 16 0;
#X connect 8 0 9 0;
#X connect 9 0 18 0;
#X connect 9 1 18 1;
#X connect 12 0 13 0;
#X connect 13 0 9 1;
#X connect 15 0 8 0;
#X connect 15 1 13 0;
#X connect 16 0 15 1;
#X connect 16 1 11 0;
#X connect 16 2 14 0;
#X connect 18 0 28 0;
#X connect 20 0 22 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 26 0 28 1;
#X connect 27 0 21 0;
#X connect 28 0 27 0;
#X connect 30 0 4 0;
#X connect 30 1 5 0;
#X connect 30 2 6 0;
#X connect 30 3 17 0;
#X connect 30 4 25 0;
#X connect 30 5 31 0;
#X connect 30 6 15 0;
